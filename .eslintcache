[{"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/index.js":"1","/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/App.js":"2","/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/LobbyPage.js":"3","/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/GamePage.js":"4","/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/HomePage.js":"5","/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/context/player.js":"6","/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/RoomPage.js":"7"},{"size":225,"mtime":1608763856920,"results":"8","hashOfConfig":"9"},{"size":852,"mtime":1608765727454,"results":"10","hashOfConfig":"9"},{"size":2192,"mtime":1608807637863,"results":"11","hashOfConfig":"9"},{"size":1,"mtime":1608763879182,"results":"12","hashOfConfig":"9"},{"size":401,"mtime":1608764038437,"results":"13","hashOfConfig":"9"},{"size":831,"mtime":1608764037792,"results":"14","hashOfConfig":"9"},{"size":3429,"mtime":1608765725863,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"ixmk1m",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"18"},"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/index.js",[],["32","33"],"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/App.js",[],"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/LobbyPage.js",["34","35"],"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/GamePage.js",[],"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/HomePage.js",[],"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/context/player.js",[],"/mnt/c/Users/brand/Desktop/Browsergame/browser-party/src/pages/RoomPage.js",["36","37"],"import React, { useState, useEffect, useContext } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport { Redirect } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\n\n//context\nimport { PlayerContext } from \"../context/player\";\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyCi1DIq90GIhBHDoQNQp5jAA5DqgmyQnLc\",\n\tauthDomain: \"browserparty.firebaseapp.com\",\n\tprojectId: \"browserparty\",\n\tstorageBucket: \"browserparty.appspot.com\",\n\tmessagingSenderId: \"477711712483\",\n\tappId: \"1:477711712483:web:bf4c204e171208b9a445d6\",\n\tmeasurementId: \"G-TBF684DB8P\",\n};\n\nif (!firebase.apps.length) {\n\tfirebase.initializeApp(firebaseConfig);\n} else {\n\tfirebase.app(); // if already initialized, use that one\n}\n\nconst firestore = firebase.firestore();\n\nfunction RoomPage({ gameId }) {\n\tconst { name, isRegistered, registerPlayer, unregisterPlayer } = useContext(\n\t\tPlayerContext\n\t);\n\n\t//game data\n\tconst [game, setGame] = useState(null);\n\t//text box value\n\tconst [value, setValue] = useState(\"\");\n\n\tconst [redirect, setRedirect] = useState(false);\n\n\tconst gameRef = firestore.collection(\"games\").doc(`${gameId}`);\n\n\tuseEffect(() => {\n\t\tfunction update(snapshot) {\n\t\t\tif (snapshot.exists) {\n\t\t\t\t//get state of game if it exists\n\t\t\t\tsetGame(snapshot.data());\n\t\t\t} else {\n\t\t\t\t//initialize state of game\n\t\t\t\tgameRef.set({\n\t\t\t\t\tstate: \"\",\n\t\t\t\t\tstatus: \"waiting\",\n\t\t\t\t\tplayers: [],\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tconst unsubscribe = gameRef.onSnapshot(\"value\", update);\n\t\treturn () => unsubscribe();\n\t}, [gameId, gameRef]);\n\n\tfunction startGame() {\n\t\tfirebase.database().ref(`games/${gameId}`);\n\t\tgameRef.update({\n\t\t\tstatus: \"ingame\",\n\t\t});\n\t\tsetRedirect(\"/game/\" + `${gameId}`);\n\t}\n\n\tif (redirect) {\n\t\treturn <Redirect to={redirect} push />;\n\t}\n\n\tfunction joinRoom(e) {\n\t\te.preventDefault();\n\n\t\tif (value) {\n\t\t\tgameRef.update({\n\t\t\t\tplayers: firebase.firestore.FieldValue.arrayUnion(value),\n\t\t\t});\n\t\t\t//setJoined(false);\n\t\t\tregisterPlayer(value);\n\t\t}\n\t}\n\n\tfunction unregister() {\n\t\tunregisterPlayer();\n\n\t\t//TODO: REMOVE PLAYER FROM THIS GAME\n\t}\n\n\tconst link = \"localhost:3010/room/\" + gameId;\n\n\treturn (\n\t\t<div>\n\t\t\t{isRegistered && (\n\t\t\t\t<div>\n\t\t\t\t\t<p>You are registered as {name}</p>\n\t\t\t\t\t<button onClick={unregister}>Unregister</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<h1>Room: {gameId}</h1>\n\t\t\t{game &&\n\t\t\t\t(game.status === \"waiting\" ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tShare this link with your friends to invite them:{\" \"}\n\t\t\t\t\t\t\t<a href={link}>{link}</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>Status: {game.status}</p>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{game.players.map((player, index) => (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{player !== name ? (\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\tPlayer {index + 1}: {player}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\tPlayer {index + 1}: {player} THIS SHOULD BE YOU\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{!isRegistered && (\n\t\t\t\t\t\t\t\t<form onSubmit={joinRoom}>\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\tJoin as:\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setValue(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input type=\"submit\" value=\"Enter\" />\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button onClick={startGame}>Start</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Already in game...</p>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default RoomPage;\n",{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","severity":1,"message":"43","line":4,"column":8,"nodeType":"44","messageId":"45","endLine":4,"endColumn":10},{"ruleId":"42","severity":1,"message":"46","line":26,"column":7,"nodeType":"44","messageId":"45","endLine":26,"endColumn":16},{"ruleId":"42","severity":1,"message":"47","line":7,"column":10,"nodeType":"44","messageId":"45","endLine":7,"endColumn":19},{"ruleId":"48","severity":1,"message":"49","line":68,"column":24,"nodeType":"50","messageId":"51","endLine":68,"endColumn":25},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"no-unused-vars","'db' is defined but never used.","Identifier","unusedVar","'firestore' is assigned a value but never used.","'useParams' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","no-global-assign","no-unsafe-negation"]